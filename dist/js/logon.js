require(["config"],function(){require(["jquery","validate","tools","md5"],function(e){e(function(){require(["footer"]),jQuery.validator.addMethod("isZipCode",function(e,r){return this.optional(r)||/^[a-zA-Z]/.test(e)},"用户名必须是字母开头"),jQuery.validator.addMethod("isPwd",function(e,r){return this.optional(r)||/[a-zA-Z]/.test(e)&&/\d/.test(e)},"密必须包含数字、字母、下划线中的两种"),e("#myform").validate({rules:{userName:{isZipCode:!0,required:!0,rangelength:[6,16],remote:"../server/php/userNameTest.php"},userPwd:{rangelength:[8,18],isPwd:!0},userPwd2:{equalTo:"#field"},userTel:{required:!0,rangelength:[11,11]},userSex:{required:!0},userAddress:{required:!0}},messages:{userName:{required:"用户名不能为空",rangelength:"用户名长度在${0}-${1}之间",remote:"用户名已存在"},userPwd:{rangelength:"密码长度在${0}-${1}之间"},userPwd2:{equalTo:"密码与第一次输入不同"},userTel:{required:"请输入电话号码",rangelength:"请输入正确的电话号码"},userSex:{required:"必选项"},userAddress:{required:"请填写您的地址"}},submitHandler:function(){var r=e.toData(e("#myform").serialize());return r.userPwd=e.md5(r.userPwd),e.ajax({url:"../server/php/logon.php",type:"post",dataType:"json",data:r}).then(function(e){e.status?confirm("注册成功！是否跳转到登录页面")&&(window.location.href="login.html"):alert("注册失败")}),!1}})})})});